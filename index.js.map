{"version":3,"file":"index.js","sources":["../src/js/spinner.js","../src/js/refs.js","../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import { Spinner } from 'spin.js';\nconst spinnerContainer = document.querySelector('.js-backdrop');\n\nconst opts = {\n  lines: 8,\n  length: 33,\n  width: 4,\n  radius: 26,\n  scale: 0.6,\n  corners: 0.5,\n  speed: 1.6,\n  rotate: 0,\n  animation: 'spinner-line-fade-quick',\n  direction: 1,\n  color: '#ffffff',\n  fadeColor: 'transparent',\n  top: '49%',\n  left: '50%',\n  shadow: '0 0 1px transparent',\n  zIndex: 2000000000,\n  className: 'spinner',\n  position: 'absolute',\n};\n\nconst spinner = new Spinner(opts);\n\nexport const spinnerPlay = () => {\n  spinnerContainer.classList.remove('is-hidden');\n  spinner.spin(spinnerContainer);\n};\n\nexport const spinnerStop = () => {\n  spinnerContainer.classList.add('is-hidden');\n  spinner.stop();\n};\n","export const BASE_URL = 'https://pixabay.com/api/';\nexport const API_KEY = '41741201-12a642cf53882fe64e8e82723';\n","import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { BASE_URL, API_KEY } from './refs';\n\nexport const searchImages = query => {\n  const url = `${BASE_URL}?key=${API_KEY}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return axios\n    .get(url)\n    .then(response => {\n      const data = response.data;\n\n      if (data.total === 0) {\n        iziToast.info({\n          position: 'center',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n      }\n\n      return data;\n    })\n    .catch(error => {\n      if (error.response) {\n        // Сервер ответил с ошибкой\n        throw new Error(`Response is not success: ${error.response.status}`);\n      } else {\n        // Ошибка сети или другая\n        throw error;\n      }\n    });\n};\n","export const createMarkUp = array => {\n  return array\n    .map(\n      image => `<div class=\"img-item\">\n        <a href=\"${image.largeImageURL}\" class=\"lightbox-link\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n        </a>\n        <div class=\"image-info\">\n          <p>Likes: ${image.likes}</p>\n          <p>Views: ${image.views}</p>\n          <p>Comments: ${image.comments}</p>\n          <p>Downloads: ${image.downloads}</p>\n        </div>\n      </div>`\n    )\n    .join('');\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport { spinnerPlay, spinnerStop } from './js/spinner';\nimport { searchImages } from './js/pixabay-api';\nimport { createMarkUp } from './js/render-functions';\n\nconst imgList = document.querySelector('.img-list');\nconst form = document.querySelector('.form');\nconst input = document.querySelector('.input');\n\nconst handleSubmit = event => {\n  event.preventDefault();\n  spinnerPlay();\n\n  const searchQuery = event.currentTarget.elements.query.value.trim();\n  imgList.innerHTML = '';\n\n  if (searchQuery !== '') {\n    searchImages(searchQuery)\n      .then(data => {\n        imgList.innerHTML = createMarkUp(data.hits);\n        const lightbox = new SimpleLightbox('.lightbox-link');\n        lightbox.refresh();\n      })\n      .catch(error => {\n        console.error(error);\n      })\n      .finally(() => {\n        spinnerStop();\n        input.value = '';\n      });\n  } else {\n    spinnerStop();\n    return iziToast.warning({\n      position: 'center',\n      message: 'Please enter a search query.',\n    });\n  }\n};\n\nform.addEventListener('submit', handleSubmit);\n"],"names":["spinnerContainer","opts","spinner","Spinner","spinnerPlay","spinnerStop","BASE_URL","API_KEY","searchImages","query","url","axios","response","data","iziToast","error","createMarkUp","array","image","imgList","form","input","handleSubmit","event","searchQuery","SimpleLightbox"],"mappings":"2wBACA,MAAMA,EAAmB,SAAS,cAAc,cAAc,EAExDC,EAAO,CACX,MAAO,EACP,OAAQ,GACR,MAAO,EACP,OAAQ,GACR,MAAO,GACP,QAAS,GACT,MAAO,IACP,OAAQ,EACR,UAAW,0BACX,UAAW,EACX,MAAO,UACP,UAAW,cACX,IAAK,MACL,KAAM,MACN,OAAQ,sBACR,OAAQ,IACR,UAAW,UACX,SAAU,UACZ,EAEMC,EAAU,IAAIC,EAAQF,CAAI,EAEnBG,EAAc,IAAM,CAC/BJ,EAAiB,UAAU,OAAO,WAAW,EAC7CE,EAAQ,KAAKF,CAAgB,CAC/B,EAEaK,EAAc,IAAM,CAC/BL,EAAiB,UAAU,IAAI,WAAW,EAC1CE,EAAQ,KAAI,CACd,EClCaI,EAAW,2BACXC,EAAU,qCCIVC,EAAeC,GAAS,CACnC,MAAMC,EAAM,GAAGJ,CAAQ,QAAQC,CAAO,MAAME,CAAK,2DAEjD,OAAOE,EACJ,IAAID,CAAG,EACP,KAAKE,GAAY,CAChB,MAAMC,EAAOD,EAAS,KAEtB,OAAIC,EAAK,QAAU,GACjBC,EAAS,KAAK,CACZ,SAAU,SACV,QACE,0EACZ,CAAS,EAGID,CACb,CAAK,EACA,MAAME,GAAS,CACd,MAAIA,EAAM,SAEF,IAAI,MAAM,4BAA4BA,EAAM,SAAS,MAAM,EAAE,EAG7DA,CAEd,CAAK,CACL,EChCaC,EAAeC,GACnBA,EACJ,IACCC,GAAS;AAAA,mBACIA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,sBAGtCA,EAAM,KAAK;AAAA,sBACXA,EAAM,KAAK;AAAA,yBACRA,EAAM,QAAQ;AAAA,0BACbA,EAAM,SAAS;AAAA;AAAA,aAGpC,EACA,KAAK,EAAE,ECPNC,EAAU,SAAS,cAAc,WAAW,EAC5CC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EAEvCC,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EACpBnB,IAEA,MAAMoB,EAAcD,EAAM,cAAc,SAAS,MAAM,MAAM,OAG7D,GAFAJ,EAAQ,UAAY,GAEhBK,IAAgB,GAClBhB,EAAagB,CAAW,EACrB,KAAKX,GAAQ,CACZM,EAAQ,UAAYH,EAAaH,EAAK,IAAI,EACzB,IAAIY,EAAe,gBAAgB,EAC3C,QAAO,CACxB,CAAO,EACA,MAAMV,GAAS,CACd,QAAQ,MAAMA,CAAK,CAC3B,CAAO,EACA,QAAQ,IAAM,CACbV,IACAgB,EAAM,MAAQ,EACtB,CAAO,MAEH,QAAAhB,IACOS,EAAS,QAAQ,CACtB,SAAU,SACV,QAAS,8BACf,CAAK,CAEL,EAEAM,EAAK,iBAAiB,SAAUE,CAAY"}